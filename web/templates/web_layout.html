{% if htmx_target == "main" %}
{% block main %}{% endblock %}
{% else %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width" />
  <link rel="stylesheet" href="https://unpkg.com/missing.css@1.0.9/dist/missing.min.css" />
  <!-- <link href="/style.css" rel="stylesheet"> -->
  <title>gameplay.computer</title>
</head>

<body>
  <header class="navbar">
    <nav aria-label="Site Sections">
      <ul role="list">
        <li><a hx-boost="true" hx-target="#main" href="/">Gameplay</a></li>
        <li>
          <button type="button" id="signup" onclick="window.Clerk.openSignUp({})">
            Sign Up
          </button>
        </li>
        <li>
          <button type="button" id="signin" onclick="window.Clerk.openSignIn({})">
            Sign In
          </button>
        </li>
        <li>
          <button type="button" id="applink" onclick="window.location.href='/app'" style="visibility: hidden">
            Dashboard
          </button>
        </li>
      </ul>
    </nav>
  </header>
  <main id="main" class="md:container md:mx-auto">
    {% block main %}{% endblock %}
  </main>
  <script src="https://unpkg.com/htmx.org@1.8.6"></script>
  <script src="https://unpkg.com/htmx.org/dist/ext/sse.js"></script>
  <script src="https://unpkg.com/htmx.org/dist/ext/debug.js"></script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.js"></script> -->
  <script>
    async function loadClerk() {
      await window.Clerk.load()
      if (window.Clerk.user) {
        document.getElementById('applink').style.visibility = 'visible'
        document.getElementById('signup').style.visibility = 'hidden'
        document.getElementById('signin').style.visibility = 'hidden'
      }
    }
  </script>
  <script async crossorigin="anonymous" data-clerk-publishable-key="{{ clerk_pub_api_key }}" onload="loadClerk()"
    src="https://enhanced-hagfish-21.clerk.accounts.dev/npm/@clerk/clerk-js@4/dist/clerk.browser.js"
    type="text/javascript"></script>
</body>

</html>
{% endif %}